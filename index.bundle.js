"use strict";(self.webpackChunkleaderboard=self.webpackChunkleaderboard||[]).push([[826],{544:()=>{const e=document.querySelector(".refresh"),t=(document.querySelector(".add-btn"),document.querySelector(".form")),s=document.querySelector(".score-list"),a=document.querySelector(".message"),n="https://us-central1-js-capstone-backend.cloudfunctions.net/api/",r=class{static createGame=async e=>await fetch(`${n}games`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});static getScores=async e=>await fetch(`${n}games/${e}/scores`);static createGameScore=async(e,t)=>await fetch(`${n}games/${e}/scores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},[o,c]=t.elements;var l;JSON.parse(localStorage.getItem("game"))??(l={name:"House of Dragons"},r.createGame(l).then((e=>{e.json().then((e=>{const t=e.result.split(" ")[3],s=new class{constructor(e,t){this.id=t,this.name=e}}(l.name,t);localStorage.setItem("game",JSON.stringify(s))}))}))),t.addEventListener("submit",(e=>{e.preventDefault();const s={user:o.value,score:Number(c.value)};((e,t)=>new Promise(((s,a)=>{r.createGameScore(e,t).then((e=>{e.json().then((e=>{s(e.result)})).catch((e=>{a(e)}))}))})))(JSON.parse(localStorage.getItem("game")).id,s).then((e=>{a.style.display="block",a.innerHTML=e,setTimeout((()=>{a.remove()}),5e3),t.reset(),i()}))})),e.addEventListener("click",(()=>{i(),s.style.display="block"}));const i=()=>{var e;(e=JSON.parse(localStorage.getItem("game")).id,new Promise(((t,s)=>{r.getScores(e).then((e=>{e.json().then((e=>{t(e.result)}))}))}))).then((e=>{const t=e;s.innerHTML=t.map((e=>`<li class="score-item list-group-item d-flex justify-content-between align-items-center">\n        ${e.user}\n    <span class="badge bg-primary rounded-pill">${e.score}</span>\n  </li>`)).join("")})),s.style.display="block"};i()}},e=>{e(e.s=544)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtR0FDQSxNQUFNQSxFQUFhQyxTQUFTQyxjQUFjLFlBRXBDLEdBRFlELFNBQVNDLGNBQWMsWUFDNUJELFNBQVNDLGNBQWMsVUFDOUJDLEVBQVlGLFNBQVNDLGNBQWMsZUFDbkNFLEVBQU1ILFNBQVNDLGNBQWMsWUNGN0JHLEVBQ0osa0VBdUJGLEVBckJBLE1BRUVDLGtCQUFvQkMsTUFBT0MsU0FDbkJDLE1BQU0sR0FBR0osU0FBaUIsQ0FDOUJLLE9BQVEsT0FDUkMsUUFBUyxDQUFFLGVBQWdCLG9CQUMzQkMsS0FBTUMsS0FBS0MsVUFBVU4sS0FJekJGLGlCQUFtQkMsTUFBT1EsU0FBYU4sTUFBTSxHQUFHSixVQUFpQlUsWUFHakVULHVCQUF5QkMsTUFBT1EsRUFBSUMsVUFDNUJQLE1BQU0sR0FBR0osVUFBaUJVLFdBQWEsQ0FDM0NMLE9BQVEsT0FDUkMsUUFBUyxDQUFFLGVBQWdCLG9CQUMzQkMsS0FBTUMsS0FBS0MsVUFBVUUsT0NsQnBCLEVBQU1DLEdBQVMsV0NDSCxJQUFDVCxFRE1QSyxLQUFLSyxNQUFNQyxhQUFhQyxRQUFRLFdDTnpCWixFRENQLENBQ1hhLEtBQU0sb0JDRE4sYUFBZWIsR0FBTWMsTUFBTUMsSUFDekJBLEVBQUlDLE9BQU9GLE1BQU1HLElBQ2YsTUFDTVYsRUFEUVUsRUFBS0MsT0FBT0MsTUFBTSxLQUNmLEdBQ1hDLEVBQWUsSUNYM0IsTUFDRUMsWUFBWVIsRUFBTU4sR0FDaEJlLEtBQUtmLEdBQUtBLEVBQ1ZlLEtBQUtULEtBQU9BLENBQ2QsR0RPa0NiLEVBQUthLEtBQU1OLEdBQ3pDSSxhQUFhWSxRQUFRLE9BQVFsQixLQUFLQyxVQUFVYyxHQUFjLEdBQzFELEtER04sbUJBQXNCLFVBQVdJLElBQy9CQSxFQUFFQyxpQkFDRixNQUFNakIsRUFBWSxDQUNoQmtCLEtBQU0sRUFBS0MsTUFDWGxCLE1BQU9tQixPQUFPbkIsRUFBTWtCLFFDRlAsRUFBQ3BCLEVBQUlFLElBQ0osSUFBSW9CLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDcEMsa0JBQW9CeEIsRUFBSUUsR0FBT0ssTUFBTUMsSUFDbkNBLEVBQ0dDLE9BQ0FGLE1BQU1HLElBQ0xhLEVBQVFiLEVBQUtDLE9BQU8sSUFFckJjLE9BQU9DLElBQ05GLEVBQU9FLEVBQUksR0FDWCxHQUNKLElETkpDLENBRGE3QixLQUFLSyxNQUFNQyxhQUFhQyxRQUFRLFNBQy9CTCxHQUFJQyxHQUVmTSxNQUFNQyxJQUNMbkIsRUFBSXVDLE1BQU1DLFFBQVUsUUFDcEJ4QyxFQUFJeUMsVUFBWXRCLEVBQ2hCdUIsWUFBVyxLQUNUMUMsRUFBSTJDLFFBQVEsR0FDWCxLQUNILFVBQ0FDLEdBQWdCLEdBQ2hCLElBSU5oRCxFQUFXaUQsaUJBQWlCLFNBQVMsS0FDbkNELElBQ0E3QyxFQUFVd0MsTUFBTUMsUUFBVSxPQUFPLElBR25DLE1BQU1JLEVBQWlCLEtDUEYsSUFBQ2pDLEtEUVBGLEtBQUtLLE1BQU1DLGFBQWFDLFFBQVEsU0FDM0JMLEdDUEYsSUFBSXNCLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDcEMsWUFBY3hCLEdBQUlPLE1BQU1DLElBQ3RCQSxFQUFJQyxPQUFPRixNQUFNRyxJQUNmYSxFQUFRYixFQUFLQyxPQUFPLEdBQ3BCLEdBQ0YsS0RFa0JKLE1BQU1DLElBQzFCLE1BQU0yQixFQUFTM0IsRUFDZnBCLEVBQVUwQyxVQUFZSyxFQUNuQkMsS0FFR2xDLEdBQ0csc0dBQ0hBLEVBQU1pQix5REFDa0NqQixFQUFNQSwwQkFHakRtQyxLQUFLLEdBQUcsSUFFYmpELEVBQVV3QyxNQUFNQyxRQUFVLE9BQU8sRUFHbkNJLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFkZXJib2FyZC8uL3NyYy9tb2R1bGVzL0RPTUVsZW1lbnRzLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL21vZHVsZXMvU2VydmljZXMuanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9zcmMvbW9kdWxlcy9taWRkbGV3YXJlLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL21vZHVsZXMvR2FtZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3QtY3VybHktbmV3bGluZSAqL1xyXG5jb25zdCByZWZyZXNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlZnJlc2gnKTtcclxuY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1idG4nKTtcclxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbmNvbnN0IHNjb3JlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY29yZS1saXN0Jyk7XHJcbmNvbnN0IG1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXNzYWdlJyk7XHJcblxyXG5leHBvcnQgeyByZWZyZXNoQnRuLCBzdWJtaXRCdG4sIGZvcm0sIHNjb3JlTGlzdCwgbXNnIH07XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIGltcGxpY2l0LWFycm93LWxpbmVicmVhayAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmV0dXJuLWF3YWl0ICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb3BlcmF0b3ItbGluZWJyZWFrXG5jb25zdCBCQVNFX1VSTCA9XG4gICdodHRwczovL3VzLWNlbnRyYWwxLWpzLWNhcHN0b25lLWJhY2tlbmQuY2xvdWRmdW5jdGlvbnMubmV0L2FwaS8nO1xuXG5jbGFzcyBTZXJ2aWNlcyB7XG4gIC8vIC9nYW1lcy9cbiAgc3RhdGljIGNyZWF0ZUdhbWUgPSBhc3luYyAoZ2FtZSkgPT5cbiAgICBhd2FpdCBmZXRjaChgJHtCQVNFX1VSTH1nYW1lc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShnYW1lKSxcbiAgICB9KTtcblxuICAvLyAvZ2FtZXMvOmlkL3Njb3Jlcy9cbiAgc3RhdGljIGdldFNjb3JlcyA9IGFzeW5jIChpZCkgPT4gYXdhaXQgZmV0Y2goYCR7QkFTRV9VUkx9Z2FtZXMvJHtpZH0vc2NvcmVzYCk7XG5cbiAgLy8gL2dhbWVzLzppZC9zY29yZXMvXG4gIHN0YXRpYyBjcmVhdGVHYW1lU2NvcmUgPSBhc3luYyAoaWQsIHVzZXJTY29yZSkgPT5cbiAgICBhd2FpdCBmZXRjaChgJHtCQVNFX1VSTH1nYW1lcy8ke2lkfS9zY29yZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlclNjb3JlKSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VydmljZXM7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG5pbXBvcnQgeyByZWZyZXNoQnRuLCBmb3JtLCBzY29yZUxpc3QsIG1zZyB9IGZyb20gJy4vbW9kdWxlcy9ET01FbGVtZW50cy5qcyc7XG5pbXBvcnQgeyBDcmVhdGVHYW1lLCBhZGRTY29yZSwgZ2V0QWxsU2NvcmVzIH0gZnJvbSAnLi9tb2R1bGVzL21pZGRsZXdhcmUuanMnO1xuXG5jb25zdCBbbmFtZSwgc2NvcmVdID0gZm9ybS5lbGVtZW50cztcblxuY29uc3QgZ2FtZSA9IHtcbiAgbmFtZTogJ0hvdXNlIG9mIERyYWdvbnMnLFxufTtcblxuLy8gQ3JlYXRlIGEgbmV3IGdhbWVcbmNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lJykpO1xuLy8gcnVuIGZ1bmN0aW9uIGlmIGRhdGEgaXMgbnVsbFxuZGF0YSA/PyBDcmVhdGVHYW1lKGdhbWUpO1xuXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgdXNlclNjb3JlID0ge1xuICAgIHVzZXI6IG5hbWUudmFsdWUsXG4gICAgc2NvcmU6IE51bWJlcihzY29yZS52YWx1ZSksXG4gIH07XG4gIGNvbnN0IGdhbWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lJykpO1xuICBhZGRTY29yZShnYW1lLmlkLCB1c2VyU2NvcmUpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgbXNnLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgbXNnLmlubmVySFRNTCA9IHJlcztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtc2cucmVtb3ZlKCk7XG4gICAgICB9LCA1MDAwKTtcbiAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgIGZldGNoQWxsU2NvcmVzKCk7XG4gICAgfSk7XG59KTtcblxuLy8gR2V0IGFsbCBzY29yZXNcbnJlZnJlc2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZldGNoQWxsU2NvcmVzKCk7XG4gIHNjb3JlTGlzdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn0pO1xuXG5jb25zdCBmZXRjaEFsbFNjb3JlcyA9ICgpID0+IHtcbiAgY29uc3QgZ2FtZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbWUnKSk7XG4gIGdldEFsbFNjb3JlcyhnYW1lLmlkKS50aGVuKChyZXMpID0+IHtcbiAgICBjb25zdCBzY29yZXMgPSByZXM7XG4gICAgc2NvcmVMaXN0LmlubmVySFRNTCA9IHNjb3Jlc1xuICAgICAgLm1hcChcbiAgICAgICAgKFxuICAgICAgICAgIHNjb3JlXG4gICAgICAgICkgPT4gYDxsaSBjbGFzcz1cInNjb3JlLWl0ZW0gbGlzdC1ncm91cC1pdGVtIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgJHtzY29yZS51c2VyfVxuICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2UgYmctcHJpbWFyeSByb3VuZGVkLXBpbGxcIj4ke3Njb3JlLnNjb3JlfTwvc3Bhbj5cbiAgPC9saT5gXG4gICAgICApXG4gICAgICAuam9pbignJyk7XG4gIH0pO1xuICBzY29yZUxpc3Quc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59O1xuXG5mZXRjaEFsbFNjb3JlcygpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgaW1wbGljaXQtYXJyb3ctbGluZWJyZWFrICovXHJcbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnQgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cclxuaW1wb3J0IEFQSSBmcm9tICcuL1NlcnZpY2VzLmpzJztcclxuaW1wb3J0IEdhbWUgZnJvbSAnLi9HYW1lLmpzJztcclxuXHJcbmNvbnN0IENyZWF0ZUdhbWUgPSAoZ2FtZSkgPT4ge1xyXG4gIEFQSS5jcmVhdGVHYW1lKGdhbWUpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgcmVzLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNwbGl0ID0gZGF0YS5yZXN1bHQuc3BsaXQoJyAnKTtcclxuICAgICAgY29uc3QgaWQgPSBzcGxpdFszXTtcclxuICAgICAgY29uc3QgZ2FtZUluc3RhbmNlID0gbmV3IEdhbWUoZ2FtZS5uYW1lLCBpZCk7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lJywgSlNPTi5zdHJpbmdpZnkoZ2FtZUluc3RhbmNlKSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vIEFkZCBTY29yZVxyXG5jb25zdCBhZGRTY29yZSA9IChpZCwgc2NvcmUpID0+IHtcclxuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgQVBJLmNyZWF0ZUdhbWVTY29yZShpZCwgc2NvcmUpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXNcclxuICAgICAgICAuanNvbigpXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIHJlc29sdmUoZGF0YS5yZXN1bHQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHByb21pc2U7XHJcbn07XHJcblxyXG4vLyBHZXQgU2NvcmVzXHJcbmNvbnN0IGdldEFsbFNjb3JlcyA9IChpZCkgPT4ge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBBUEkuZ2V0U2NvcmVzKGlkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmVzLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShkYXRhLnJlc3VsdCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHByb21pc2U7XHJcbn07XHJcblxyXG5leHBvcnQgeyBDcmVhdGVHYW1lLCBhZGRTY29yZSwgZ2V0QWxsU2NvcmVzIH07XHJcbiIsImNsYXNzIEdhbWUge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGlkKSB7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2FtZTtcclxuIl0sIm5hbWVzIjpbInJlZnJlc2hCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzY29yZUxpc3QiLCJtc2ciLCJCQVNFX1VSTCIsInN0YXRpYyIsImFzeW5jIiwiZ2FtZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJ1c2VyU2NvcmUiLCJzY29yZSIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm5hbWUiLCJ0aGVuIiwicmVzIiwianNvbiIsImRhdGEiLCJyZXN1bHQiLCJzcGxpdCIsImdhbWVJbnN0YW5jZSIsImNvbnN0cnVjdG9yIiwidGhpcyIsInNldEl0ZW0iLCJlIiwicHJldmVudERlZmF1bHQiLCJ1c2VyIiwidmFsdWUiLCJOdW1iZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNhdGNoIiwiZXJyIiwiYWRkU2NvcmUiLCJzdHlsZSIsImRpc3BsYXkiLCJpbm5lckhUTUwiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiZmV0Y2hBbGxTY29yZXMiLCJhZGRFdmVudExpc3RlbmVyIiwic2NvcmVzIiwibWFwIiwiam9pbiJdLCJzb3VyY2VSb290IjoiIn0=