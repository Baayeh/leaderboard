"use strict";(self.webpackChunkleaderboard=self.webpackChunkleaderboard||[]).push([[826],{405:()=>{const e=document.querySelector(".refresh"),t=(document.querySelector(".add-btn"),document.querySelector(".form")),s=document.querySelector(".score-list"),a=document.querySelector(".top-scorer"),n=document.querySelector(".message"),r=document.querySelector(".game-title"),o="https://us-central1-js-capstone-backend.cloudfunctions.net/api/",c=class{static createGame=async e=>{const t=await fetch(`${o}games`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()};static getScores=async e=>{const t=await fetch(`${o}games/${e}/scores`);return await t.json()};static createGameScore=async(e,t)=>{const s=await fetch(`${o}games/${e}/scores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await s.json()}},[l,i]=t.elements,u={name:"House of Dragons"};r.innerHTML=`${u.name} - Leaderboard`,document.addEventListener("DOMContentLoaded",(()=>{JSON.parse(localStorage.getItem("game"))??c.createGame(u).then((e=>{const t=e.result.split(" ")[3],s=new class{constructor(e,t){this.id=t,this.name=e}}(u.name,t);localStorage.setItem("game",JSON.stringify(s))})),d()})),t.addEventListener("submit",(e=>{e.preventDefault();const s={user:l.value,score:Number(i.value)},a=JSON.parse(localStorage.getItem("game"));c.createGameScore(a.id,s).then((e=>{n.style.display="block",n.innerHTML=e.result,setTimeout((()=>{n.style.display="none"}),5e3),t.reset(),d()}))})),e.addEventListener("click",(()=>{d(),s.style.display="block"}));const d=async()=>{const e=JSON.parse(localStorage.getItem("game")),t=await c.getScores(e.id);if(t.result.length>0){const e=t.result.reduce(((e,t)=>e.score>t.score?e:t));a.innerHTML=`\n    <span>${e.user}</span>\n    <span>${e.score} pts</span>\n  `}else a.innerHTML='\n    <p class="mb-0">No Score available yet</p>\n  ';s.innerHTML=t.result.map(((e,t)=>`\n      <li class="score-item list-group-item d-flex justify-content-between align-items-center">\n        <span>\n          ${t+1}\n        </span>\n       ${e.user}<span class="badge bg-primary rounded-pill">${e.score}</span></li>`)).join(""),s.style.display="block"}}},e=>{e(e.s=405)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Yy9tb2R1bGVzL0RPTUVsZW1lbnRzLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL21vZHVsZXMvU2VydmljZXMuanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9zcmMvbW9kdWxlcy9HYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1jdXJseS1uZXdsaW5lICovXG5jb25zdCByZWZyZXNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlZnJlc2gnKTtcbmNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtYnRuJyk7XG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbmNvbnN0IHNjb3JlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY29yZS1saXN0Jyk7XG5jb25zdCB0b3BTY29yZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wLXNjb3JlcicpO1xuY29uc3QgbXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lc3NhZ2UnKTtcbmNvbnN0IGdhbWVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLXRpdGxlJyk7XG5cbmV4cG9ydCB7IHJlZnJlc2hCdG4sIHN1Ym1pdEJ0biwgZm9ybSwgc2NvcmVMaXN0LCB0b3BTY29yZXIsIG1zZywgZ2FtZVRpdGxlIH07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBpbXBsaWNpdC1hcnJvdy1saW5lYnJlYWsgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJldHVybi1hd2FpdCAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9wZXJhdG9yLWxpbmVicmVha1xuY29uc3QgQkFTRV9VUkwgPVxuICAnaHR0cHM6Ly91cy1jZW50cmFsMS1qcy1jYXBzdG9uZS1iYWNrZW5kLmNsb3VkZnVuY3Rpb25zLm5ldC9hcGkvJztcblxuY2xhc3MgQVBJIHtcbiAgLy8gL2dhbWVzL1xuICBzdGF0aWMgY3JlYXRlR2FtZSA9IGFzeW5jIChnYW1lKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QkFTRV9VUkx9Z2FtZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZ2FtZSksXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gIH07XG5cbiAgLy8gL2dhbWVzLzppZC9zY29yZXMvXG4gIHN0YXRpYyBnZXRTY29yZXMgPSBhc3luYyAoaWQpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtCQVNFX1VSTH1nYW1lcy8ke2lkfS9zY29yZXNgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgfTtcblxuICAvLyAvZ2FtZXMvOmlkL3Njb3Jlcy9cbiAgc3RhdGljIGNyZWF0ZUdhbWVTY29yZSA9IGFzeW5jIChpZCwgdXNlclNjb3JlKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QkFTRV9VUkx9Z2FtZXMvJHtpZH0vc2NvcmVzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJTY29yZSksXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFQSTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG9wZXJhdG9yLWxpbmVicmVhayAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuaW1wb3J0IHtcbiAgZm9ybSxcbiAgZ2FtZVRpdGxlLFxuICBtc2csXG4gIHJlZnJlc2hCdG4sXG4gIHNjb3JlTGlzdCxcbiAgdG9wU2NvcmVyLFxufSBmcm9tICcuL21vZHVsZXMvRE9NRWxlbWVudHMuanMnO1xuaW1wb3J0IEdhbWUgZnJvbSAnLi9tb2R1bGVzL0dhbWUuanMnO1xuaW1wb3J0IGFwaSBmcm9tICcuL21vZHVsZXMvU2VydmljZXMuanMnO1xuXG5jb25zdCBbbmFtZSwgc2NvcmVdID0gZm9ybS5lbGVtZW50cztcblxuY29uc3QgZ2FtZSA9IHtcbiAgbmFtZTogJ0hvdXNlIG9mIERyYWdvbnMnLFxufTtcblxuZ2FtZVRpdGxlLmlubmVySFRNTCA9IGAke2dhbWUubmFtZX0gLSBMZWFkZXJib2FyZGA7XG5cbi8vIHJ1biBmdW5jdGlvbiBpZiBkYXRhIGlzIG51bGxcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lJykpO1xuICBkYXRhID8/XG4gICAgYXBpLmNyZWF0ZUdhbWUoZ2FtZSkudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zdCBzcGxpdCA9IHJlcy5yZXN1bHQuc3BsaXQoJyAnKTtcbiAgICAgIGNvbnN0IGlkID0gc3BsaXRbM107XG4gICAgICBjb25zdCBnYW1lSW5zdGFuY2UgPSBuZXcgR2FtZShnYW1lLm5hbWUsIGlkKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lJywgSlNPTi5zdHJpbmdpZnkoZ2FtZUluc3RhbmNlKSk7XG4gICAgfSk7XG5cbiAgZmV0Y2hBbGxTY29yZXMoKTtcbn0pO1xuXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgdXNlclNjb3JlID0ge1xuICAgIHVzZXI6IG5hbWUudmFsdWUsXG4gICAgc2NvcmU6IE51bWJlcihzY29yZS52YWx1ZSksXG4gIH07XG4gIGNvbnN0IGdhbWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lJykpO1xuICBhcGlcbiAgICAuY3JlYXRlR2FtZVNjb3JlKGdhbWUuaWQsIHVzZXJTY29yZSlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBtc2cuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICBtc2cuaW5uZXJIVE1MID0gcmVzLnJlc3VsdDtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtc2cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0sIDUwMDApO1xuICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgZmV0Y2hBbGxTY29yZXMoKTtcbiAgICB9KTtcbn0pO1xuXG4vLyBHZXQgYWxsIHNjb3Jlc1xucmVmcmVzaEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZmV0Y2hBbGxTY29yZXMoKTtcbiAgc2NvcmVMaXN0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufSk7XG5cbmNvbnN0IGZldGNoQWxsU2NvcmVzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBnYW1lID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZScpKTtcbiAgY29uc3Qgc2NvcmVzID0gYXdhaXQgYXBpLmdldFNjb3JlcyhnYW1lLmlkKTtcblxuICBpZiAoc2NvcmVzLnJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgaGlnaGVzdFNjb3JpbmdVc2VyID0gc2NvcmVzLnJlc3VsdFxuICAgICAgLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiAoYWNjLnNjb3JlID4gY3Vyci5zY29yZSA/IGFjYyA6IGN1cnIpKTtcbiAgICB0b3BTY29yZXIuaW5uZXJIVE1MID0gYFxuICAgIDxzcGFuPiR7aGlnaGVzdFNjb3JpbmdVc2VyLnVzZXJ9PC9zcGFuPlxuICAgIDxzcGFuPiR7aGlnaGVzdFNjb3JpbmdVc2VyLnNjb3JlfSBwdHM8L3NwYW4+XG4gIGA7XG4gIH0gZWxzZSB7XG4gICAgdG9wU2NvcmVyLmlubmVySFRNTCA9IGBcbiAgICA8cCBjbGFzcz1cIm1iLTBcIj5ObyBTY29yZSBhdmFpbGFibGUgeWV0PC9wPlxuICBgO1xuICB9XG5cbiAgc2NvcmVMaXN0LmlubmVySFRNTCA9IHNjb3Jlcy5yZXN1bHRcbiAgICAubWFwKFxuICAgICAgKHNjb3JlLCBpbmRleCkgPT4gYFxuICAgICAgPGxpIGNsYXNzPVwic2NvcmUtaXRlbSBsaXN0LWdyb3VwLWl0ZW0gZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAke2luZGV4ICsgMX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICR7c2NvcmUudXNlcn08c3BhbiBjbGFzcz1cImJhZGdlIGJnLXByaW1hcnkgcm91bmRlZC1waWxsXCI+JHtcbiAgc2NvcmUuc2NvcmVcbn08L3NwYW4+PC9saT5gLFxuICAgIClcbiAgICAuam9pbignJyk7XG5cbiAgc2NvcmVMaXN0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufTtcbiIsImNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBpZCkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWU7XG4iXSwibmFtZXMiOlsicmVmcmVzaEJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjb3JlTGlzdCIsInRvcFNjb3JlciIsIm1zZyIsImdhbWVUaXRsZSIsIkJBU0VfVVJMIiwic3RhdGljIiwiYXN5bmMiLCJnYW1lIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJqc29uIiwiaWQiLCJ1c2VyU2NvcmUiLCJzY29yZSIsIm5hbWUiLCJpbm5lckhUTUwiLCJhZGRFdmVudExpc3RlbmVyIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidGhlbiIsInJlc3VsdCIsInNwbGl0IiwiZ2FtZUluc3RhbmNlIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwic2V0SXRlbSIsImZldGNoQWxsU2NvcmVzIiwiZSIsInByZXZlbnREZWZhdWx0IiwidXNlciIsInZhbHVlIiwiTnVtYmVyIiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsInNjb3JlcyIsImxlbmd0aCIsImhpZ2hlc3RTY29yaW5nVXNlciIsInJlZHVjZSIsImFjYyIsImN1cnIiLCJtYXAiLCJpbmRleCIsImpvaW4iXSwic291cmNlUm9vdCI6IiJ9